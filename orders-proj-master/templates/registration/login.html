<!DOCTYPE html>
<html>
<head>
    <title>Авторизация</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="shortcut icon" href="http://www.chetrachap.com/wp-content/uploads/2017/12/Logo-Growth-Profile-1500.png"
          type="image/x-icon">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet">

</head>

<header>
    <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand" href="#">Авторизация</a>
    </nav>
</header>


<body>
{% block login_auth %}
    <div id='auth' align='center'>

    <form class='validForm' id='signin' method='post' action='/login'>
    {{ form.as_p }}
    {% csrf_token %}
    <center>
    <button type="submit" class="btn btn-primary" data-loading-text=«Загрузка…»>Отправить</button>
    {% if login_error %} # если вышла ошибка или такой пользователь не существует
        <label class=»error»>{{ login_error }}</label>

    {% endif %}

{% endblock login_auth %}

</form>
</div>

<style type="text/css">
    div {
        margin: 150px;
    }
</style>

{##}
{##}
{#<script>#}
{#    $('.auth').on('submit', function (e) {#}
{##}
{#        $.ajax({#}
{#                type: 'POST',#}
{#                url: 'http://127.0.0.1:8000/login/',#}
{#                data: {#}
{#                    'username': $('.username').val(),#}
{#                    'password': $('.password').val()#}
{#                    'csrf-token': $('input[name="csrfmiddlewaretoken"]').value#}
{#                },#}
{#                success: function (data) {#}
{#                    console.log(data)#}
{#                }#}
{#            }#}
{#        )#}
{#    })#}
{#</script>#}

</body>
</html>


